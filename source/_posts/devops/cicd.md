---
title: CICD 笔记
date: 2019-07-30 15:14:11
toc: true
# thumbnail: https://avatars3.githubusercontent.com/u/7270177?s=460&v=4
tags:
  - devops
  - cicd
categories:
  - devops
---

## CICD 笔录、 想法记录

### CICD是什么
按我理解， CICD 应该做应用生命周期管理的一整套解决方案，但它却focus上了 CI和CD两个方面，甚至有一些组织会把CICD在进行拆分，部署和编译没有任何的整合， 我认为这是不科学的。  
按照我的理解，除了应用自己要关注的业务逻辑部分， 各其他点（中间件， 运维， 甚至中台）等都应该被CICD所关注， 最终能达到的效果就是应用可以放心的去写应用， 大家能再这个生命周期里各司其职。  
虽然这样，我也不得不关注，当下意义上的CI和CD， 因为他们确实是前辈们抽象的最重要的两个概念了。 如果这两个概念没有， 其实这个体系也许就不存在，甚至是有另外一个体系会存在，现在应用交付的方式会发生质的变化。


### CI - 持续集成
应该是从代码写之前就开始关注， 从项目的创建，到打成可部署的包， 其实是一体的一个过程。

####  项目生成

#### 业务逻辑编写

#### 测试
1. SONAR 等代码规范检测
2. 单元测试
3. 部分性能测试

### CD - 持续发布

#### 版本控制与回滚
一般版本控制会跟代码的版本控制去走， 建立映射关系， 也有一些版本控制会维护自己单独的生命线。
无论哪一种无非是想具备出错迅速纠正的能力。 当然能与代码建立关系是最好的， 最好能够具备某个版本打出来的包不论打几次是等价的。

#### 顺序部署
顺序部署主要为了平滑上线，而不至于服务中断， 也是必须的。

#### 部分部署
部署一部分进行功能点验证， 这对业务逻辑有一定要求。

#### 混合部署
在容器化时期是不需要的， 因为大家都可以根据自己的资源需求量来安排资源。
但在非容器化时期， 能混合部署会节省大量的IT成本。

#### 弹性伸缩
1. 手动弹性伸缩
2. 自动弹性伸缩


