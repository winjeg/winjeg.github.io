<!DOCTYPE html>
<html  lang="zh" >
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <title>开放接口的一些小知识 | winjeg's blog</title>
    <meta name="description" content="open 简介open api 是什么？Open API即开放API,也称开放接口 所谓的开放API（OpenAPI）是服务型网站常见的一种应用，网站的服务商将自己的网站服务封装成一系列API（Application Programming Interface，应用编程接口）开放出去，供第三方开发者使用，这种行为就叫做开放网站的API，所开放的API就被称作OpenAPI（开放API）。 （摘自百">
<meta property="og:type" content="article">
<meta property="og:title" content="开放接口的一些小知识">
<meta property="og:url" content="https://winjeg.github.io/2018/12/13/others/openapi/index.html">
<meta property="og:site_name" content="winjeg&#39;s blog">
<meta property="og:description" content="open 简介open api 是什么？Open API即开放API,也称开放接口 所谓的开放API（OpenAPI）是服务型网站常见的一种应用，网站的服务商将自己的网站服务封装成一系列API（Application Programming Interface，应用编程接口）开放出去，供第三方开发者使用，这种行为就叫做开放网站的API，所开放的API就被称作OpenAPI（开放API）。 （摘自百">
<meta property="og:locale">
<meta property="article:published_time" content="2018-12-13T10:14:11.000Z">
<meta property="article:modified_time" content="2022-12-05T15:06:01.889Z">
<meta property="article:author" content="winjeg">
<meta property="article:tag" content="biz">
<meta property="article:tag" content="openapi">
<meta name="twitter:card" content="summary">

    
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon"><meta name="baidu-site-verification" content="5fNkcnppPy">

    
<link rel="stylesheet" href="/css/common.min.css">



    
    
    
    
        <link href="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/css/lightgallery.min.css" rel="stylesheet">
    
    
    
<link rel="stylesheet" href="/css/iconfont.min.css">

    
<meta name="generator" content="Hexo 6.3.0"></head>

    <body>
        <header class="header header-fixture">
    <div class="profile-search-wrap flex sm:block">
        
        
        <div class="profile sm:text-center md:px-1 lg:px-3 sm:pb-4 sm:pt-6">
            <a id="avatar" role="link" href="https://github.com/winjeg" class="inline-block lg:w-16 lg:h-16 w-8 h-8 m-2" target="_blank" rel="noopener" rel="noreferrer" >
                <img src="https://www.gravatar.com/avatar/430f1fc50c046af01cd65a76639a2218?s=128" class="rounded-full" alt="avatar">
            </a>
            <h2 id="name" class="hidden lg:block">winjeg</h2>
            <h3 id="title" class="hidden lg:block">Architect &amp; Coder</h3>
            
            <small id="location" class="hidden lg:block">
                <i class="iconfont icon-map-icon"></i>
                Hangzhou, China
            </small>
            
        </div>
        
        
<div class="search flex-1 flex lg:inline-block sm:hidden lg:px-4 lg:mt-2 lg:mb-4 lg:w-full">
    <form id="search-form" class="my-auto flex-1 lg:border lg:border-solid lg:border-gray-200">
        <div class="input-group table bg-gray-100 lg:bg-white w-full">
            <input id="search-input" type="text" placeholder="Search" class="inline-block w-full bg-gray-100 lg:bg-white p-1">
            <span class="table-cell">
                <button name="search tigger button" disabled>
                    <i class="iconfont icon-search m-2"></i>
                </button>
            </span>
        </div>
    </form>
        
<div id="content-json" data-placeholder="Search" class="invisible hidden">/content.json</div>
<script id="search-teamplate" type="text/html" data-path="/content.json">
    <div>
        <div class="search-header bg-gray-400">
            <input id="actual-search-input" model="keyword" ref="input" class="inline-block w-full h-10 px-2 py-1" placeholder="Search" type="text">
        </div>
        <div class="search-result bg-gray-200">
            {{#each searchPosts}}
            <a href="/{{ path }}" class="result-item block px-2 pb-3 mb-1 pt-1 hover:bg-indigo-100">
                <i class="iconfont icon-file"></i>
                <h1 class="result-title inline font-medium text-lg">{{ title }}</h1>
                <p class="result-content text-gray-600 text-sm">{{{ text }}}</p>
            </a>
            {{/each}}
        </div>
    </div>
</script>

</div>


        <button name="menu toogle button" id="menu-toggle-btn" class="block sm:hidden p-3" role="button" aria-expanded="false">
            <i class="iconfont icon-hamburger"></i>
        </button>
    </div>
    <nav id="menu-nav" class="hidden sm:flex flex-col">
        
        
            <div class="menu-item menu-home" role="menuitem">
                <a href="/.">
                    <i class="iconfont icon-home" aria-hidden="true"></i>
                    <span class="menu-title">Home</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-archives" role="menuitem">
                <a href="/archives">
                    <i class="iconfont icon-archive" aria-hidden="true"></i>
                    <span class="menu-title">Archives</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-categories" role="menuitem">
                <a href="/categories">
                    <i class="iconfont icon-folder" aria-hidden="true"></i>
                    <span class="menu-title">Categories</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-tags" role="menuitem">
                <a href="/tags">
                    <i class="iconfont icon-tag" aria-hidden="true"></i>
                    <span class="menu-title">Tags</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-repository" role="menuitem">
                <a href="/repository">
                    <i class="iconfont icon-project" aria-hidden="true"></i>
                    <span class="menu-title">Repository</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-links" role="menuitem">
                <a href="/links">
                    <i class="iconfont icon-friend" aria-hidden="true"></i>
                    <span class="menu-title">Links</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-about" role="menuitem">
                <a href="/about">
                    <i class="iconfont icon-cup" aria-hidden="true"></i>
                    <span class="menu-title">About</span>
                </a>
            </div>
        
        
<div class="social-links flex sm:flex-col lg:hidden mt-5">
    
        <span class="social-item text-center">
            <a target="_blank" rel="noopener" href="https://github.com/winjeg">
                <i class="iconfont social-icon icon-github"></i>
                <span class="menu-title hidden lg:inline">menu.github</span>
            </a>
        </span>
    
        <span class="social-item text-center">
            <a target="_blank" rel="noopener" href="https://t.me/winjeg">
                <i class="iconfont social-icon icon-telegram"></i>
                <span class="menu-title hidden lg:inline">menu.telegram</span>
            </a>
        </span>
    
        <span class="social-item text-center">
            <a target="_blank" rel="noopener" href="https://twitter.com/winjeg">
                <i class="iconfont social-icon icon-twitter"></i>
                <span class="menu-title hidden lg:inline">menu.twitter</span>
            </a>
        </span>
    
        <span class="social-item text-center">
            <a href="/atom.xml">
                <i class="iconfont social-icon icon-rss"></i>
                <span class="menu-title hidden lg:inline">menu.rss</span>
            </a>
        </span>
    
</div>


    </nav>
</header>

        <section class="main-section">
            
    <main class="flex-1 px-4 py-14 md:px-5 lg:px-8 lg:py-4 relative min-h-screen">
    

    <article class="content article article-archives article-type-list" itemscope="">
        <header class="article-header">
            
    
        <h1 class="article-title text-lg" itemprop="name">
            开放接口的一些小知识
        </h1>
    



            <p class="article-meta mb-3 text-xs">
                <span class="article-date">
    <i class="iconfont icon-calendar-check"></i>
	<a href="/2018/12/13/others/openapi/" class="article-date">
	  <time datetime="2018-12-13T10:14:11.000Z" itemprop="datePublished">Dec 13</time>
	</a>
</span>

                
    <span class="article-category">
    <i class="iconfont icon-folder"></i>
    <a class="article-category-link" href="/categories/biz/">biz</a>
  </span>


                
    <span class="article-tags">
    <i class="iconfont icon-tag"></i>
    <a class="article-tag-none-link" href="/tags/biz/" rel="tag">biz</a>, <a class="article-tag-none-link" href="/tags/openapi/" rel="tag">openapi</a>
  </span>


                <span class="_partial/post-comment"><i class="icon icon-comment"></i>
                    <a href="/2018/12/13/others/openapi/#comments" class="article-comment-link">
                        Comments
                    </a>
                </span>
                

            </p>
        </header>
        <div class="marked-body article-body">
            <h2 id="open-简介"><a href="#open-简介" class="headerlink" title="open 简介"></a>open 简介</h2><p>open api 是什么？<br>Open API即开放API,也称开放接口 所谓的开放API（OpenAPI）是服务型网站常见的一种应用，网站的服务商将自己的网站服务封装成一系列API（Application Programming Interface，应用编程接口）开放出去，供第三方开发者使用，这种行为就叫做开放网站的API，所开放的API就被称作OpenAPI（开放API）。 （摘自百科，主要为了说一下概念）</p>
<h2 id="open-api-设计常见问题"><a href="#open-api-设计常见问题" class="headerlink" title="open api 设计常见问题"></a>open api 设计常见问题</h2><h3 id="服务提供"><a href="#服务提供" class="headerlink" title="服务提供"></a>服务提供</h3><h4 id="通信方式设计"><a href="#通信方式设计" class="headerlink" title="通信方式设计"></a>通信方式设计</h4><p>常见的设计是：<br>必备的有：app key 与 app secret 签名<br>可选的有： 企业ID， 业务ID。 这些可选的东西一般用来区分业务领域或者权限而存在，确保不同调用者领域与权限的隔离。</p>
<p>app key 与app secret 是我见过最常见，也是必然会出现的一个设计， 在我对接过的十多种API（阿里、腾讯、小米）中， 这这些都是必备的。</p>
<h5 id="app-key-的作用"><a href="#app-key-的作用" class="headerlink" title="app key 的作用"></a>app key 的作用</h5><p>主要是为了防止请求被篡改以及用户识别。一般一个 app key 是用于做用户识别的， 服务提供方一般会存放调用方的一些信息， 并可以通过这个App key 检索到。</p>
<h5 id="app-secret-的作用"><a href="#app-secret-的作用" class="headerlink" title="app secret 的作用"></a>app secret 的作用</h5><p>app secret 主要是用来签名请求的， 签名过的请求如果被修改之后， 则签名就会发生变化，攻击者是不可能知道这个变化的结果的，这样可以有效防止攻击者的攻击。</p>
<p>一般来讲，会对如下领域进行签名：</p>
<ol>
<li>parameter （url 参数）</li>
<li>header （请求头）</li>
</ol>
<p>一般的流程如下：</p>
<ol>
<li>用户在请求参数信息中加入时间信息</li>
<li>用户使用自己的 app secret 对请求进行签名</li>
<li>用户把签名的结果， app key 与其他参数一起放到请求里面传到服务提供方</li>
<li>服务方根据 app key找到自己存放的 app secret， 并对请求进行签名</li>
<li>比对签名信息是否一致， 不一致，则认认为请求受到了非法修改，直接拒绝服务。</li>
<li>校验时间信息， 确保时间信息是在允许的范围内， 否则拒绝提供服务。</li>
</ol>
<p>如何颁发？<br>一般是由服务提供方生成这样的一个键值对， 并把键值对安全的递给调用方。<br>以后 app secret 不会出现在网络传输中，只会用于双方的签名校验。</p>
<h4 id="数据格式与文档"><a href="#数据格式与文档" class="headerlink" title="数据格式与文档"></a>数据格式与文档</h4><ol>
<li>服务地址， 需要准确无误的告诉服务提供方的调用地址</li>
<li>环境设置 （一般API提供方会提供线上与线下两种途径一个用来线上使用，一个用来调试）</li>
<li>参数规定 （对于一个Open API一般来讲参数都是固定的， 不能随意变动，否则会引起双方不小的争执）</li>
<li>结果格式 （结果格式，要写清楚所有出现的结果格式的可能性， 让调用者有办法可以提前对任何可能的结果进行处理）</li>
<li>示例代码 （一段示例代码， 对于开发者是很友好的，大部分开发者喜欢看到这个）</li>
</ol>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ol>
<li>安全防范</li>
<li>限流</li>
</ol>
<h4 id="秘钥对设计"><a href="#秘钥对设计" class="headerlink" title="秘钥对设计"></a>秘钥对设计</h4><h3 id="安全防范"><a href="#安全防范" class="headerlink" title="安全防范"></a>安全防范</h3><h4 id="1-存放攻击"><a href="#1-存放攻击" class="headerlink" title="1. 存放攻击"></a>1. 存放攻击</h4><p>这个是最常见的一种， 它不需要知道服务提供方与三方的秘钥， 只需要知道，双方的通信方式， 通过分析这种通信方式，来达到窃取信息，或者造成攻击的目的。<br>这种行为的防范方法也是有一些的：<br>在请求里面加上时间信息，对时间信息进行加密签名， 对时间设置可用时间段， 比如1分钟， 过了一分钟，攻击者获取到的信息就不能再用了。</p>
<h4 id="2-秘钥泄露"><a href="#2-秘钥泄露" class="headerlink" title="2. 秘钥泄露"></a>2. 秘钥泄露</h4><p>秘钥泄露对于很多企业来说并不陌生， 一旦泄露对于双方的危害都很大， 而且如果不能及时发现会带来不小的损失， 这种人为泄漏， 很多时候并没有太好的办法。 可以做的事情比较现实的就是更换秘钥。</p>
<h4 id="3-穿透攻击"><a href="#3-穿透攻击" class="headerlink" title="3. 穿透攻击"></a>3. 穿透攻击</h4><p>调用服务方提供的Open API的三方合作者， 有可能对服务提供方造成压力过大的攻击， 这种攻击主要来源于两种途径：</p>
<ol>
<li>三方合作者应用程序问题导致请求放大， 导致的调用次数过高</li>
<li>三方合作者把相关接口直接暴露到外部， 这样会带来潜在的问题， 在攻击者识别这样的接口之后，疯狂发起攻击， 服务提供方的服务器会承受巨大压力，甚至crash</li>
</ol>
<p>对于穿透的攻击： 服务提供方能做的最常见的方案就是限流， 另外就是流量识别，<br>在流量异常的时候对API接口本身做一些限制</p>
<p>当然安全防范确实还有很多需要考虑的点，一般都会结合攻击的特点， 对于攻击类型进行定制防范， 对于业界常见的防范措施，一般都是要默认加入的。</p>
<h2 id="个人的开源项目"><a href="#个人的开源项目" class="headerlink" title="个人的开源项目"></a>个人的开源项目</h2><p><a target="_blank" rel="noopener" href="https://github.com/winjeg/openapi">openapi</a><br>它主要解决的问题是： 简化服务端提供API的流程</p>
<ol>
<li>封装服务端API签名流程</li>
<li>封装服务端颁发键值对的流程</li>
<li>封装服务端签名校验机制</li>
<li>提供简单的安全防范</li>
</ol>
<p>这个工具是用golang设计的， 因此只适用于golang的项目。<br>由于这个工具是基于 <code>http.Request</code> 进行设计的， 因此理论上讲兼容所有的web框架， 如 <code>gin</code>, <code>iris</code>, <code>beego</code>等， 我在readme里面提供了<code>iris</code>的示例代码</p>
<p> 如果使用mysql来存放app key 和secret信息， 可以建如下的一个表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `app` (</span><br><span class="line">  `app_key` <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `app_secret` <span class="type">varchar</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `created` <span class="type">timestamp</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line">  `updated` <span class="type">timestamp</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`app_key`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure>
<p>如果已经存在这样一个类似的表也可以不用建立，在代码中指定即可</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">r, err := openapi.CheckValid(req,</span><br><span class="line"><span class="comment">// default implementation is via sql, to fetch the secrect</span></span><br><span class="line">    openapi.SqlSecretKeeper&#123;</span><br><span class="line">           Db:        store.GetDb(),   <span class="comment">// 可以使用的 mysql 连接</span></span><br><span class="line">           TableName: <span class="string">&quot;app&quot;</span>,       <span class="comment">// 存放app key 和secrets的表名</span></span><br><span class="line">           KeyCol:    <span class="string">&quot;app_key&quot;</span>,   <span class="comment">// app key 的列名</span></span><br><span class="line">           SecretCol: <span class="string">&quot;app_secret&quot;</span>, <span class="comment">// app secret的列名</span></span><br><span class="line">           AppKey:    k,           <span class="comment">// 用户使用的 app key</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>当然如果您已经封装好了app key 与secret的逻辑， 也可以自己实现如下接口</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// the interface to get the secret</span></span><br><span class="line"><span class="keyword">type</span> SecretKeeper <span class="keyword">interface</span> &#123;</span><br><span class="line">	GetSecret() (<span class="type">string</span>, <span class="type">error</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>对于使用了web 框架的，只需要写一个middleware， 并启用就行了， 示例代码如下：</p>
<p>创建middleware</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// create a middle ware for iris</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">OpenApiHandler</span><span class="params">(ctx iris.Context)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//sign header? to prevent header being modified by others</span></span><br><span class="line">    <span class="comment">// openapi.SignHeader(true)</span></span><br><span class="line"></span><br><span class="line">	req := ctx.Request()</span><br><span class="line">	<span class="comment">// you can put the key somewhere in the header or url params</span></span><br><span class="line">	k := ctx.URLParam(<span class="string">&quot;app_key&quot;</span>)</span><br><span class="line">	r, err := openapi.CheckValid(req,</span><br><span class="line">	<span class="comment">// default implementation is via sql, to fetch the secrect</span></span><br><span class="line">	    openapi.SqlSecretKeeper&#123;</span><br><span class="line">            Db:        store.GetDb(),</span><br><span class="line">            TableName: <span class="string">&quot;app&quot;</span>,       <span class="comment">// the name of table where you store all your app  keys and  secretcs</span></span><br><span class="line">            KeyCol:    <span class="string">&quot;app_key&quot;</span>,   <span class="comment">// the column name of the app keys</span></span><br><span class="line">            SecretCol: <span class="string">&quot;app_secret&quot;</span>, <span class="comment">// the column name of the app secrets</span></span><br><span class="line">            AppKey:    k,           <span class="comment">// the app key that the client used</span></span><br><span class="line">	&#125;)</span><br><span class="line">	logError(err)</span><br><span class="line">	<span class="keyword">if</span> r &#123;</span><br><span class="line">	    <span class="comment">// verfy success, continue the request</span></span><br><span class="line">		ctx.Next()</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	    <span class="comment">// verify fail, stop the request and return</span></span><br><span class="line">		ctx.Text(err.Error())</span><br><span class="line">		ctx.StopExecution()</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>启用middleware</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// use the middle ware somewhere</span></span><br><span class="line"><span class="comment">// so all the apis under this group should be</span></span><br><span class="line"><span class="comment">// called with signed result and app key</span></span><br><span class="line">	openApiGroup := app.Party(<span class="string">&quot;/open&quot;</span>)</span><br><span class="line">	openApiGroup.Use(OpenApiHandler)</span><br><span class="line">	&#123;</span><br><span class="line">		openApiGroup.Get(<span class="string">&quot;/app&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(ctx iris.Context)</span></span> &#123;</span><br><span class="line">			ctx.Text(<span class="string">&quot;success&quot;</span>)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>是不是很简单，如果文中有误，或者缺失的内容欢迎各种批评教育。</p>
<p>如果您能读到这里， 我会感觉到十分荣幸，谢谢您的关注。</p>

        </div>
        
<blockquote class="copyright">
    <p><strong>Link to this article : </strong><a class="permalink" href="https://winjeg.github.io/2018/12/13/others/openapi/">https://winjeg.github.io/2018/12/13/others/openapi/</a></p>
    <p><strong>All rights reserved to winjeg</strong></p>
</blockquote>


    </article>
    
    <section id="comments">
        
    </section>


    

</main>


<aside style="" id="sidebar" class="aside aside-fixture">
    <div class="toc-sidebar">
        <nav id="toc" class="article-toc">
            <h3 class="toc-title">Catalogue</h3>
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#open-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">open 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#open-api-%E8%AE%BE%E8%AE%A1%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">open api 设计常见问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B"><span class="toc-number">2.1.</span> <span class="toc-text">服务提供</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.1.1.</span> <span class="toc-text">通信方式设计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#app-key-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">app key 的作用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#app-secret-%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">app secret 的作用</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%E4%B8%8E%E6%96%87%E6%A1%A3"><span class="toc-number">2.1.2.</span> <span class="toc-text">数据格式与文档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">2.1.3.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%98%E9%92%A5%E5%AF%B9%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.1.4.</span> <span class="toc-text">秘钥对设计</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83"><span class="toc-number">2.2.</span> <span class="toc-text">安全防范</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AD%98%E6%94%BE%E6%94%BB%E5%87%BB"><span class="toc-number">2.2.1.</span> <span class="toc-text">1. 存放攻击</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%A7%98%E9%92%A5%E6%B3%84%E9%9C%B2"><span class="toc-number">2.2.2.</span> <span class="toc-text">2. 秘钥泄露</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%A9%BF%E9%80%8F%E6%94%BB%E5%87%BB"><span class="toc-number">2.2.3.</span> <span class="toc-text">3. 穿透攻击</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E7%9A%84%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.</span> <span class="toc-text">个人的开源项目</span></a></li></ol>
        </nav>
    </div>
</aside>





        </section>
        <footer class="hidden lg:block fixed bottom-0 left-0 sm:w-1/12 lg:w-1/6 bg-gray-100 z-40">
    
    <div class="footer-social-links">
        
            <a target="_blank" rel="noopener" href="https://github.com/winjeg">
                <i class="iconfont icon-github"></i>
            </a>
        
            <a target="_blank" rel="noopener" href="https://t.me/winjeg">
                <i class="iconfont icon-telegram"></i>
            </a>
        
            <a target="_blank" rel="noopener" href="https://twitter.com/winjeg">
                <i class="iconfont icon-twitter"></i>
            </a>
        
            <a href="/atom.xml">
                <i class="iconfont icon-rss"></i>
            </a>
        
    </div>
    
    
</footer>

        <div id="mask" class="hidden mask fixed inset-0 bg-gray-900 opacity-75 z-40"></div>
        <div id="search-view-container" class="hidden shadow-xl"></div>
        
<script src="/js/dom-event.min.js"></script>



<script src="/js/local-search.min.js"></script>



    <script src="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/js/lightgallery.min.js"></script>
    
<script src="/js/light-gallery.min.js"></script>






    </body>
</html>
